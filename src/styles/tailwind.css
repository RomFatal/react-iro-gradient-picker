@import 'tailwindcss';

@custom-variant dark (&:where(.dark, .dark *));

/* Modern color palette with improved contrast and visual hierarchy */
@theme {
  /* Light Theme - Clean and Professional */
  --color-background: #fafbfc;
  --color-foreground: #1a1d23;
  --color-grayText: #6b7280;
  --color-card: #ffffff;
  --color-card-foreground: #1a1d23;
  --color-popover: #ffffff;
  --color-popover-foreground: #1a1d23;
  --color-primary: #5b4cfd;
  --color-primary-foreground: #ffffff;
  --color-secondary: #f3f4f6;
  --color-secondary-foreground: #374151;
  --color-muted: #f9fafb;
  --color-muted-foreground: #6b7280;
  --color-accent: #8b5cf6;
  --color-accent-foreground: #ffffff;
  --color-destructive: #ef4444;
  --color-destructive-foreground: #ffffff;
  --color-success: #10b981;
  --color-success-foreground: #ffffff;
  --color-warning: #f59e0b;
  --color-warning-foreground: #ffffff;
  --color-border: #e5e7eb;
  --color-input: #f3f4f6;
  --color-ring: #5b4cfd;
  --color-divide: #e5e7eb;

  /* Gradients */
  --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --gradient-accent: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  --gradient-success: linear-gradient(135deg, #13b981 0%, #06b6d4 100%);

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1);
  --shadow-glow: 0 0 20px rgba(91, 76, 253, 0.3);

  /* Transitions */
  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-base: 250ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 350ms cubic-bezier(0.4, 0, 0.2, 1);

  /* Border Radius */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.5rem;
  --radius-full: 9999px;
}

@layer theme {
  :root,
  :host {
    /* Color picker specific variables - Light theme */
    --colorpicker-bg: #ffffff;
    --colorpicker-text: #1a1d23;
    --colorpicker-border: #e5e7eb;
    --colorpicker-panel-bg: rgba(255, 255, 255, 0.8);
    --colorpicker-input-bg: #f3f4f6;
    --colorpicker-input-border: #e5e7eb;
    --colorpicker-shadow: var(--shadow-md);
    --colorpicker-cursor-border: #ffffff;
    --colorpicker-modal-bg: #ffffff;
    --colorpicker-modal-overlay: rgba(0, 0, 0, 0.5);

    @variant dark {
      /* Dark Theme - Modern Glass Design */
      --color-background: #000000;
      --color-foreground: #f7f8f9;
      --colorpicker-text: #ffffff;
      --color-grayText: #000000;
      --color-card: #1a1a1c;
      --color-card-foreground: #f7f8f9;
      --color-popover: #1a1a1c;
      --color-popover-foreground: #f7f8f9;
      --color-primary: #7c3aed;
      --color-primary-foreground: #ffffff;
      --color-secondary: #27272a;
      --color-secondary-foreground: #e4e4e7;
      --color-muted: #27272a;
      --color-muted-foreground: #a1a1aa;
      --color-accent: #a78bfa;
      --color-accent-foreground: #ffffff;
      --color-destructive: #dc2626;
      --color-destructive-foreground: #ffffff;
      --color-success: #059669;
      --color-success-foreground: #ffffff;
      --color-warning: #d97706;
      --color-warning-foreground: #ffffff;
      --color-border: #27272a;
      --color-input: #27272a;
      --color-ring: #7c3aed;
      --color-divide: #3f3f46;

      /* Dark mode gradients */
      --gradient-primary: linear-gradient(135deg, #7c3aed 0%, #a78bfa 100%);
      --gradient-accent: linear-gradient(135deg, #ec4899 0%, #f43f5e 100%);
      --gradient-success: linear-gradient(135deg, #059669 0%, #0891b2 100%);

      /* Dark mode shadows */
      --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.2);
      --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.3);
      --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.4);
      --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.5);
      --shadow-glow: 0 0 30px rgba(124, 58, 237, 0.4);

      /* Color picker specific variables - Dark glass theme */
      --colorpicker-bg: rgba(26, 26, 28, 0.8);
      --colorpicker-input-bg: #f7f8f9;
      --colorpicker-border: rgba(39, 39, 42, 0.8);
      --colorpicker-panel-bg: rgba(0, 0, 0);
      --colorpicker-input-bg: rgba(39, 39, 42, 0.8);
      --colorpicker-input-border: rgba(39, 39, 42, 0.8);
      --colorpicker-shadow: var(--shadow-lg);
      --colorpicker-cursor-border: rgba(39, 39, 42, 0.9);
      --colorpicker-modal-bg: rgba(26, 26, 28, 0.9);
      --colorpicker-modal-overlay: rgba(0, 0, 0, 0.8);
    }
  }
}

/* Global styles and utilities */
@layer base {
  * {
    @apply border-border;
  }

  html,
  body {
    @apply bg-background text-foreground;
    font-feature-settings: 'rlig' 1, 'calt' 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
  }

  #root {
    width: 100%;
    min-height: 100vh;
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-muted rounded-lg;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-muted-foreground/30 rounded-lg;
    transition: background-color var(--transition-fast);
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-muted-foreground/50;
  }

  /* Focus styles */
  :focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }

  /* Selection styles */
  ::selection {
    @apply bg-primary/20 text-primary-foreground;
  }

  /* Dark glass morphism effect for color picker containers */
  html.dark .IroSlider svg,
  html.dark .IroWheel svg,
  html.dark .IroBox svg {
    backdrop-filter: blur(16px) saturate(180%);
    -webkit-backdrop-filter: blur(16px) saturate(180%);
  }

  /* Style iro.js SVG elements for glass theme */
  html.dark .IroSlider svg > rect:first-child,
  html.dark .IroWheel svg > rect:first-child,
  html.dark .IroBox svg > rect:first-child {
    fill: rgba(26, 26, 28, 0.8) !important;
    stroke: rgba(124, 58, 237, 0.3) !important;
    stroke-width: 1px !important;
    backdrop-filter: blur(16px);
  }

  /* Light theme iro.js styling */
  html:not(.dark) .IroSlider svg > rect:first-child,
  html:not(.dark) .IroWheel svg > rect:first-child,
  html:not(.dark) .IroBox svg > rect:first-child {
    fill: rgba(255, 255, 255, 0.8) !important;
    stroke: rgba(229, 231, 235, 0.8) !important;
    stroke-width: 1px !important;
  }
}

/* Animation utilities */
@layer utilities {
  .glass-morphism {
    @apply backdrop-blur-xl border;
    background-color: rgba(var(--color-card), 0.8);
  }

  .colorpicker-glass {
    backdrop-filter: blur(16px) saturate(180%);
    -webkit-backdrop-filter: blur(16px) saturate(180%);
    background-color: var(--colorpicker-panel-bg);
    box-shadow: var(--colorpicker-shadow);
  }
}

/* Keyframe animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    transform: translateY(10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes scaleIn {
  from {
    transform: scale(0.95);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

/* Component-specific styles */
@layer components {
  .btn {
    @apply inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50;
  }

  .btn-primary {
    @apply bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:-translate-y-0.5 hover:shadow-lg;
  }

  .card-interactive {
    @apply bg-card rounded-xl shadow-md border border-border/50 transition-all duration-200 hover:-translate-y-0.5 hover:shadow-lg;
  }

  .input-field {
    @apply flex h-10 w-full rounded-md border border-input bg-input px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50;
  }

  /* Color picker specific component styles */
  .colorpicker-text,
  div.colorpicker-text {
    color: var(--colorpicker-text) !important;
  }

  /* Input styling with custom properties */
  input[style*='--colorpicker-input-bg'] {
    background-color: var(--colorpicker-input-bg) !important;
    color: var(--colorpicker-text) !important;
    border-color: var(--colorpicker-input-border) !important;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }

  input[style*='--colorpicker-input-bg']:focus {
    border-color: var(--color-primary) !important;
    box-shadow: 0 0 0 2px rgba(124, 58, 237, 0.2) !important;
  }

  input[style*='--colorpicker-input-bg']:hover {
    border-color: var(--colorpicker-border) !important;
  }
}
